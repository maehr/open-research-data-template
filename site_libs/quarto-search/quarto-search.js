const kQueryArg="q",kResultsArg="show-results",kItemTypeMoreHref="0767FDFD-0422-4E5A-BC8A-3BE11E5BBA05";window.document.addEventListener("DOMContentLoaded",function(e){var t=window.document.getElementById("quarto-search");if(!t)return;const{autocomplete:s}=window["@algolia/autocomplete-js"];let n={},o={};const i=window.document.getElementById("quarto-search-options");if(i){const a=i.textContent;n=JSON.parse(a),o=n.language}n.type==="overlay"?t.classList.add("type-overlay"):t.classList.add("type-textbox");const r=new URL(window.location),c=r.searchParams.get(kQueryArg),l=r.searchParams.get(kResultsArg),h=window.document.querySelector("main");if(c&&h){highlight(escapeRegExp(c),h);const a=new URL(window.location);a.searchParams.delete(kQueryArg),window.history.replaceState({},"",a)}let p=!0;const u=a=>{h&&p&&c&&a!==c&&(clearHighlight(c,h),p=!1)},S=()=>{u(""),window.removeEventListener("quarto-hrChanged",S),window.removeEventListener("quarto-sectionChanged",S)};window.addEventListener("quarto-hrChanged",S),window.addEventListener("quarto-sectionChanged",S);const g=n.type==="overlay"?"all":"(max-width: 991px)",y=configurePlugins(n);let w=null;const{setIsOpen:m,setQuery:k,setCollections:N}=s({container:t,detachedMediaQuery:g,defaultActiveItemId:0,panelContainer:"#quarto-search-results",panelPlacement:n["panel-placement"],debug:!1,openOnFocus:!0,plugins:y,classNames:{form:"d-flex"},placeholder:o["search-text-placeholder"],translations:{clearButtonTitle:o["search-clear-button-title"],detachedCancelButtonText:o["search-detached-cancel-button-title"],submitButtonTitle:o["search-submit-button-title"]},initialState:{query:c},getItemUrl({item:a}){return a.href},onStateChange({state:a}){u(a.query),a.isOpen&&w&&!w.isOpen&&setTimeout(()=>{positionPanel(n["panel-placement"])},150),showCopyLink(a.query,n),w=a},reshape({sources:a,state:x}){return a.map(E=>{try{const C=E.getItems();validateItems(C);const d=new Map;C.forEach(b=>{const I=b.href.split("#"),P=I[0],q=I.length===1,L=d.get(P);L?(q?L.unshift(b):L.push(b),d.set(P,L)):d.set(P,[b])});const f=[];let v=1;for(const[b,I]of d){const P=I[0];f.push({...P,type:kItemTypeDoc});const q=n["collapse-after"],L=typeof q=="number"?q:1;if(I.length>1){const A=`search-more-${v}`,$=x.context.expanded&&x.context.expanded.includes(A),_=I.length-L;for(let M=1;M<I.length;M++)q&&M===L&&f.push({target:A,title:$?o["search-hide-matches-text"]:_===1?`${_} ${o["search-more-match-text"]}`:`${_} ${o["search-more-matches-text"]}`,type:kItemTypeMore,href:kItemTypeMoreHref}),($||!q||M<L)&&f.push({...I[M],type:kItemTypeItem,target:A})}v+=1}return{...E,getItems(){return f}}}catch(C){return{...E,getItems(){return[{title:C.name||"An Error Occurred While Searching",text:C.message||"An unknown error occurred while attempting to perform the requested search.",type:kItemTypeError}]}}}})},navigator:{navigate({itemUrl:a}){a!==offsetURL(kItemTypeMoreHref)&&window.location.assign(a)},navigateNewTab({itemUrl:a}){if(a!==offsetURL(kItemTypeMoreHref)){const x=window.open(a,"_blank","noopener");x&&x.focus()}},navigateNewWindow({itemUrl:a}){a!==offsetURL(kItemTypeMoreHref)&&window.open(a,"_blank","noopener")}},getSources({state:a,setContext:x,setActiveItemId:E,refresh:C}){return[{sourceId:"documents",getItemUrl({item:d}){if(d.href)return offsetURL(d.href)},onSelect({item:d,state:f,setContext:v,setIsOpen:b,setActiveItemId:I,refresh:P}){d.type===kItemTypeMore&&(toggleExpanded(d,f,v,I,P),b(!0))},getItems({query:d}){if(d===null||d==="")return[];const f=n.limit;if(n.algolia)return algoliaSearch(d,f,n.algolia);{const v={isCaseSensitive:!1,shouldSort:!0,minMatchCharLength:2,limit:f};return readSearchData().then(function(b){return fuseSearch(d,b,v)})}},templates:{noResults({createElement:d}){const f=w.query;return d("div",{class:`quarto-search-no-results${f?"":" no-query"}`},o["search-no-results-text"])},header({items:d,createElement:f}){const v=d.filter(b=>b.type===kItemTypeDoc).length;return v>0?f("div",{class:"search-result-header"},`${v} ${o["search-matching-documents-text"]}`):f("div",{class:"search-result-header-no-results"},"")},footer({_items:d,createElement:f}){if(n.algolia&&n.algolia["show-logo"]){const v=n.algolia.libDir,b=f("img",{src:offsetURL(`${v}/quarto-search/search-by-algolia.svg`),class:"algolia-search-logo"});return f("a",{href:"http://www.algolia.com/"},b)}},item({item:d,createElement:f}){return renderItem(d,f,a,E,x,C,n)}}}]}});if(window.quartoOpenSearch=()=>{m(!1),m(!0),focusSearchInput()},document.addEventListener("keyup",a=>{const{key:x}=a,E=n["keyboard-shortcut"],C=document.activeElement,d=["input","select","textarea","button","option"].find(f=>C.tagName.toLowerCase()===f);E&&E.includes(x)&&!d&&!document.activeElement.isContentEditable&&(a.preventDefault(),window.quartoOpenSearch())}),n.type==="overlay"){const a=window.document.querySelector("#quarto-search .aa-Autocomplete");a&&a.removeAttribute("aria-labelledby")}function T(a,x){let E=!1;return function(){E||(a.apply(this,arguments),E=!0,setTimeout(function(){E=!1},x))}}window.document.body.onscroll=T(()=>{window.matchMedia(g).matches||m(!1)},50),l&&(m(!0),focusSearchInput())});function configurePlugins(e){const t=[],s=e.algolia;if(s&&s["analytics-events"]&&s["search-only-api-key"]&&s["application-id"]){const n=s["search-only-api-key"],o=s["application-id"],i=deferredLoadPlugin(()=>{if(window.aa&&window["@algolia/autocomplete-plugin-algolia-insights"]){window.aa("init",{appId:o,apiKey:n,useCookie:!0});const{createAlgoliaInsightsPlugin:r}=window["@algolia/autocomplete-plugin-algolia-insights"];return r({insightsClient:window.aa,onItemsChange({insights:l,insightsEvents:h}){const p=h.flatMap(u=>{const g=[],y=u.items;for(let m=0;m<y.length;m+=20)g.push(y.slice(m,m+20));return g.map(m=>({...u,items:m}))});for(const u of p)l.viewedObjectIDs(u)}})}});return t.push(i),t}}function deferredLoadPlugin(e){let t,s;const n=()=>(!t&&s&&(t=e(),t&&t.subscribe&&t.subscribe(s)),t);return{subscribe:o=>{s=o},onStateChange:o=>{const i=n();i&&i.onStateChange&&i.onStateChange(o)},onSubmit:o=>{const i=n();i&&i.onSubmit&&i.onSubmit(o)},onReset:o=>{const i=n();i&&i.onReset&&i.onReset(o)},getSources:o=>{const i=n();return i&&i.getSources?i.getSources(o):Promise.resolve([])},data:o=>{const i=n();i&&i.data&&i.data(o)}}}function validateItems(e){if(e.length>0){const t=e[0],s=[];if(t.href==null&&s.push("href"),!t.title==null&&s.push("title"),!t.text==null&&s.push("text"),s.length===1)throw{name:`Error: Search index is missing the <code>${s[0]}</code> field.`,message:`The items being returned for this search do not include all the required fields. Please ensure that your index items include the <code>${s[0]}</code> field or use <code>index-fields</code> in your <code>_quarto.yml</code> file to specify the field names.`};if(s.length>1){const n=s.map(o=>`<code>${o}</code>`).join(", ");throw{name:`Error: Search index is missing the following fields: ${n}.`,message:`The items being returned for this search do not include all the required fields. Please ensure that your index items includes the following fields: ${n}, or use <code>index-fields</code> in your <code>_quarto.yml</code> file to specify the field names.`}}}}let lastQuery=null;function showCopyLink(e,t){const s=t.language;lastQuery=e;const n=window.document.body.querySelector(".aa-Form .aa-InputWrapperSuffix");if(n){let o=window.document.body.querySelector(".aa-Form .aa-InputWrapperSuffix .aa-CopyButton");if(o===null){o=window.document.createElement("button"),o.setAttribute("class","aa-CopyButton"),o.setAttribute("type","button"),o.setAttribute("title",s["search-copy-link-title"]),o.onmousedown=h=>{h.preventDefault(),h.stopPropagation()};const i="bi-clipboard",r="bi-check2",c=window.document.createElement("i");c.setAttribute("class",`bi ${i}`),o.appendChild(c),n.prepend(o),new window.ClipboardJS(".aa-CopyButton",{text:function(h){const p=new URL(window.location);return p.searchParams.set(kQueryArg,lastQuery),p.searchParams.set(kResultsArg,"1"),p.toString()}}).on("success",function(h){const u=h.trigger.querySelector("i.bi");u.classList.add(r),u.classList.remove(i),setTimeout(function(){u.classList.remove(r),u.classList.add(i)},1e3)})}o&&(lastQuery&&t["copy-button"]?o.style.display="flex":o.style.display="none")}}var fuseIndex=void 0,shownWarning=!1;const kFuseIndexOptions={keys:[{name:"title",weight:20},{name:"section",weight:20},{name:"text",weight:10}],ignoreLocation:!0,threshold:.1};async function readSearchData(){if(fuseIndex===void 0){if(window.location.protocol==="file:"&&!shownWarning){window.alert("Search requires JavaScript features disabled when running in file://... URLs. In order to use search, please run this document in a web server."),shownWarning=!0;return}const e=new window.Fuse([],kFuseIndexOptions),t=await fetch(offsetURL("search.json"));return t.status==200?t.json().then(function(s){return s.forEach(function(n){e.add(n)}),fuseIndex=e,fuseIndex}):Promise.reject(new Error("Unexpected status from search index request: "+t.status))}return fuseIndex}function inputElement(){return window.document.body.querySelector(".aa-Form .aa-Input")}function focusSearchInput(){setTimeout(()=>{const e=inputElement();e&&e.focus()},50)}const kItemTypeDoc="document",kItemTypeMore="document-more",kItemTypeItem="document-item",kItemTypeError="error";function renderItem(e,t,s,n,o,i,r){switch(e.type){case kItemTypeDoc:return createDocumentCard(t,"file-richtext",e.title,e.section,e.text,e.href,e.crumbs,r);case kItemTypeMore:return createMoreCard(t,e,s,n,o,i);case kItemTypeItem:return createSectionCard(t,e.section,e.text,e.href);case kItemTypeError:return createErrorCard(t,e.title,e.text);default:return}}function createDocumentCard(e,t,s,n,o,i,r,c){const l=e("i",{class:`bi bi-${t} search-result-icon`}),h=e("p",{class:"search-result-title"},s),p=[l,h],u=c["show-item-context"];if(r&&u){let T;const a=["search-result-crumbs"];u==="root"?T=r.length>1?r[0]:void 0:u==="parent"?T=r.length>1?r[r.length-2]:void 0:(T=r.length>1?r.join(" > "):void 0,a.push("search-result-crumbs-wrap"));const x=e("p",{class:a.join(" ")},T);p.push(x)}const S=e("div",{class:"search-result-title-container"},p),g=[];if(n){const T=e("p",{class:"search-result-section"},n);g.push(T)}const y=e("p",{class:"search-result-text",dangerouslySetInnerHTML:{__html:o}});g.push(y);const w=e("div",{class:"search-result-text-container"},g),m=e("div",{class:"search-result-container"},[S,w]),k=e("a",{href:offsetURL(i),class:"search-result-link"},m),N=["search-result-doc","search-item"];return n||N.push("document-selectable"),e("div",{class:N.join(" ")},k)}function createMoreCard(e,t,s,n,o,i){return e("div",{class:"search-result-more search-item",onClick:c=>{toggleExpanded(t,s,o,n,i),c.stopPropagation()}},t.title)}function toggleExpanded(e,t,s,n,o){const i=t.context.expanded||[];i.includes(e.target)?s({expanded:i.filter(r=>r!==e.target)}):s({expanded:[...i,e.target]}),o(),n(e.__autocomplete_id)}function createSectionCard(e,t,s,n){const o=createSection(e,t,s,n);return e("div",{class:"search-result-doc-section search-item"},o)}function createSection(e,t,s,n){const o=e("p",{class:"search-result-text",dangerouslySetInnerHTML:{__html:s}}),i=e("p",{class:"search-result-section"},t);return e("a",{href:offsetURL(n),class:"search-result-link"},[i,o])}function createErrorCard(e,t,s){const n=e("p",{class:"search-error-text",dangerouslySetInnerHTML:{__html:s}}),o=e("p",{class:"search-error-title",dangerouslySetInnerHTML:{__html:`<i class="bi bi-exclamation-circle search-error-icon"></i> ${t}`}});return e("div",{class:"search-error"},[o,n])}function positionPanel(e){const t=window.document.querySelector("#quarto-search-results .aa-Panel"),s=window.document.querySelector("#quarto-search .aa-Autocomplete");t&&s&&(t.style.top=`${Math.round(t.offsetTop)}px`,e==="start"?t.style.left=`${Math.round(s.left)}px`:t.style.right=`${Math.round(s.offsetRight)}px`)}function highlightMatch(e,t){if(t){const s=t.toLowerCase().indexOf(e.toLowerCase());if(s!==-1){const n="<mark class='search-match'>",o="</mark>",i=s+e.length;t=t.slice(0,s)+n+t.slice(s,i)+o+t.slice(i);const r=clipStart(t,s),c=clipEnd(t,r.position+n.length+o.length);return t=r.prefix+t.slice(r.position,c.position)+c.suffix,t}else return t}else return t}function clipStart(e,t){return t-50<0?{position:0,prefix:""}:{position:findSpace(e,t,-1).position,prefix:""}}function clipEnd(e,t){const s=t+200;if(s>e.length)return{position:e.length,suffix:""};{const n=findSpace(e,s,1);return{position:n.position,suffix:n.clipped?"\u2026":""}}}function findSpace(e,t,s){let n=t;for(;n>-1&&n<e.length;){const o=e[n];if(o===" "||o===","||o===":")return{position:s===1?n:n-s,clipped:n>1&&n<e.length};n=n+s}return{position:n-s,clipped:!1}}function clearHighlight(e,t){const s=t.childNodes;for(let n=s.length-1;n>=0;n--){const o=s[n];o.nodeType===Node.ELEMENT_NODE&&(o.tagName==="MARK"&&o.innerText.toLowerCase()===e.toLowerCase()?t.replaceChild(document.createTextNode(o.innerText),o):clearHighlight(e,o))}}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function highlight(e,t){const s=new RegExp(e,"ig"),n=t.childNodes;for(let o=n.length-1;o>=0;o--){const i=n[o];if(i.nodeType===Node.TEXT_NODE){const r=i.nodeValue;let c=0,l=r.search(s);if(l>-1){const h=document.createDocumentFragment();for(;l>-1;){const p=r.slice(c,l);h.appendChild(document.createTextNode(p));const u=document.createElement("mark");u.appendChild(document.createTextNode(r.slice(l,l+e.length))),h.appendChild(u),c=l+e.length,l=r.slice(c).search(new RegExp(e,"ig")),l>-1&&(l=c+l)}c<r.length&&h.appendChild(document.createTextNode(r.slice(c,r.length))),t.replaceChild(h,i)}}else i.nodeType===Node.ELEMENT_NODE&&highlight(e,i)}}function offsetURL(e){var t=getMeta("quarto:offset");return t?t+e:e}function getMeta(e){var t=window.document.getElementsByTagName("meta");for(let s=0;s<t.length;s++)if(t[s].getAttribute("name")===e)return t[s].getAttribute("content");return""}function algoliaSearch(e,t,s){const{getAlgoliaResults:n}=window["@algolia/autocomplete-preset-algolia"],o=s["application-id"],i=s["search-only-api-key"],r=s["index-name"],c=s["index-fields"],l=window.algoliasearch(o,i),h=s.params,p=!!s["analytics-events"];return n({searchClient:l,queries:[{indexName:r,query:e,params:{hitsPerPage:t,clickAnalytics:p,...h}}],transformResponse:u=>c?u.hits.map(g=>g.map(y=>{const w={...y};return["href","section","title","text","crumbs"].forEach(m=>{const k=c[m];k&&y[k]!==void 0&&k!==m&&(w[m]=y[k],delete w[k])}),w.text=highlightMatch(e,w.text),w})):u.hits.map(S=>S.map(g=>({...g,text:highlightMatch(e,g.text)})))})}let subSearchTerm,subSearchFuse;const kFuseMaxWait=125;async function fuseSearch(e,t,s){let n=t;subSearchFuse!==void 0&&e.startsWith(subSearchTerm)?n=subSearchFuse:subSearchFuse!==void 0&&(subSearchFuse=void 0,subSearchTerm=void 0);const o=performance.now(),i=await n.search(e,s),r=performance.now(),c=i.map(l=>{const h=(p,u,S)=>{const g=p.split("#"),y=g[0],w=y.search("\\?")>0?"&":"?";return g[0]=y+w+u+"="+S,g.join("#")};return{title:l.item.title,section:l.item.section,href:h(l.item.href,kQueryArg,e),text:highlightMatch(e,l.item.text),crumbs:l.item.crumbs}});return r-o>kFuseMaxWait&&subSearchFuse===void 0&&i.length<s.limit&&(subSearchTerm=e,subSearchFuse=new window.Fuse([],kFuseIndexOptions),i.forEach(l=>{subSearchFuse.add(l.item)})),c}
