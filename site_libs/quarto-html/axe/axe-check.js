class u{constructor(e,t){this.axeResult=e,this.options=t}report(){throw new Error("report() is an abstract method")}}class m extends u{constructor(e,t){super(e,t)}report(){console.log(JSON.stringify(this.axeResult,null,2))}}class p extends u{constructor(e,t){super(e,t)}report(){for(const e of this.axeResult.violations){console.log(e.description);for(const t of e.nodes)for(const o of t.target)console.log(o),console.log(document.querySelector(o))}}}class h extends u{constructor(e,t){super(e,t)}createViolationElement(e){const t=document.createElement("div"),o=document.createElement("div");o.className="quarto-axe-violation-description",o.innerText=`${e.impact.replace(/^[a-z]/,d=>d.toLocaleUpperCase())}: ${e.description}`,t.appendChild(o);const i=document.createElement("div");i.className="quarto-axe-violation-help",i.innerText=e.help,t.appendChild(i);const l=document.createElement("div");l.className="quarto-axe-violation-nodes",t.appendChild(l);const r=document.createElement("div");r.className="quarto-axe-violation-selector";for(const d of e.nodes){for(const a of d.target){const c=document.createElement("span");c.className="quarto-axe-violation-target",c.innerText=a,r.appendChild(c),r.addEventListener("mouseenter",()=>{const s=document.querySelector(a);s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("quarto-axe-hover-highlight"),setTimeout(()=>{s.style.border=""},2e3))}),r.addEventListener("mouseleave",()=>{const s=document.querySelector(a);s&&s.classList.remove("quarto-axe-hover-highlight")}),r.addEventListener("click",()=>{console.log(document.querySelector(a))}),r.appendChild(c)}l.appendChild(r)}return t}report(){const e=this.axeResult.violations,t=document.createElement("div");if(t.className="quarto-axe-report",e.length===0){const o=document.createElement("div");o.className="quarto-axe-no-violations",o.innerText="No axe-core violations found.",t.appendChild(o)}e.forEach(o=>{t.appendChild(this.createViolationElement(o))}),document.querySelector("main").appendChild(t)}}const x={json:m,console:p,document:h};class v{constructor(e){this.options=e}async init(){const t=await(await import("https://cdn.skypack.dev/pin/axe-core@v4.10.3-aVOFXWsJaCpVrtv89pCa/mode=imports,min/optimized/axe-core.js")).default.run({exclude:["[data-tabster-dummy]"],preload:{assets:["cssom"],timeout:5e4}});(this.options===!0?new p(t):new x[this.options.output](t,this.options)).report()}}export async function init(){const n=document.querySelector("#quarto-axe-checker-options");if(n){const e=JSON.parse(atob(n.textContent));await new v(e).init()}}
